<Encargo2Window>:
    name: "encargo2"
    productos_grid:productos_grid
    carrobut:carrobut
    buscador:buscador

    FloatLayout:
        canvas.before:
            Color:
                rgba: (241/255,228/255,232/255,1)
            Rectangle:
                pos: self.pos
                size: self.size

        BoxLayout:
            pos_hint: {"top":0.9}
            size_hint: 1, 0.75
            orientation: 'vertical'
            padding: 10, 10
            row_default_height: '400dp'
            row_force_default: True
            spacing: 10, 100
            FloatLayout:
                size_hint: 1, 0.1
                GoBackBut:
                    pos_hint:{"x":-0.4,"y": -0.1}
                    size_hint: 1, 1
                    on_release:
                        app.root.current = "menucompras"
                        root.manager.transition.direction = "right"
                CarroBut:
                    id:carrobut
                    pos_hint:{"x":0.4,"y": 0}
                    size_hint: 1, 1
                    on_release:
                        root.show_carro()

            Label:
                text:"[b]Seleccione los productos\npara encargar al comprador:[/b]"
                markup: True
                halign: 'center'
                valign: 'center'
                font_size: (root.width**2 + root.height**2) / 15**4
                pos_hint: {"x":0, "top":1}
                size_hint: 1, 0.2
                color: 37/255,65/255,178/255,1
                text_size: self.size

            BoxLayout:
                pos_hint: {"top":0.9}
                size_hint: 1, 0.75
                orientation: 'vertical'
                padding: 10, 10
                row_default_height: '100dp'
                row_force_default: True
                spacing: 10, 100
                canvas.before:
                    Color:
                        rgba: (37/255,65/255,178/255,1)
                    Rectangle:
                        pos: self.pos
                        size: self.size
                    Color:
                        rgba: (.1,.1,.1,1)
                    Line:
                        width: 3
                        rectangle: self.x,self.y,self.width, self.height
                FloatLayout:
                    pos_hint: {"x":0, "top":1}
                    size_hint: 1, 0.1
                    text_size: self.size
                    canvas.before:
                        Color:
                            rgba: (0.9,0.9,0.9,1)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    Button:
                        pos_hint: {"x":0.6, "y": 0.05}
                        size_hint: 0.1, 0.9
                        markup: True
                        font_size: (root.width**2 + root.height**2) / 16**4
                        background_color: 1,1,1,0
                        border: (16,16,16,16)
                        on_release:
                            root.search_productos()
                        Image:
                            source: 'icons/search.png'
                            width: self.parent.width
                            height: self.parent.height
                            y: self.parent.y
                            x: self.parent.x


                    TextInput:
                        id:buscador
                        text:""
                        markup: True
                        halign: 'left'
                        valign: 'center'
                        font_size: (root.width**2 + root.height**2) / 16**4
                        pos_hint: {"x":0.7, "y": 0.05}
                        size_hint: 0.3, 0.9
                        color: 1,0,1,1


                ScrollView:
                    pos_hint: {"y":0.65}

                    GridLayout:
                        id:productos_grid
                        cols:1
                        size_hint_y: None
                        height:self.minimum_height
                        row_default_height: '80dp'
                        row_default: '80dp'
                        width: self.parent.width*0.8
                        spacing: 0, 5
                        padding: 50, 10


        GridLayout:
            cols:1
            pos_hint: {"top":0.15}
            size_hint: 1, 0.15
            AnchorLayout:
                Button:
                    size_hint: 0.4, 0.3
                    text: "[font=Arial]Siguiente[/font]"
                    markup: True
                    font_size: (root.width**2 + root.height**2) / 15**4
                    background_color: 81/255,255/255,85/255,1
                    on_release:
                        root.manager.transition.direction = "left"
                        root.gather_go()
